<header>
  <div class="title">
    <a href="{{ "" | relLangURL}}">{{ .Site.Title }}</a>
  </div>
  <nav class="main-menu">
    {{ range .Site.Menus.main }}
      <a class="menu" href="{{ .URL }}">
      {{ if .Pre }}
        <span>
          {{ partial "icon.html" .Pre }}
        </span>
      {{ end }}{{ .Name }}</a>
    {{ end }}
    {{ if .Site.Params.showThemeSwitcher | default false }}
    |
    <button id="theme-switcher" aria="Theme switcher">
      <div id="moon">
      {{ partial "icon.html" "moon" }}
      </div>
      <div id="sun">
      {{ partial "icon.html" "sun" }}
      </div>
    </button>
    {{ end }}
  </nav>
  {{ if .Site.Params.highlightCurrentMenu }}
  <script>
  (function() {
    var mainmenu = document.querySelector('.main-menu');
    if (!mainmenu) return;

    var path = window.location.pathname;
    console.log(path);
    var links = mainmenu.querySelectorAll('a');

    links.forEach(function(link) {
      if (link.getAttribute('href') === path) {
        link.classList.add('active');
      }
    });
  })();
  </script>
  {{ end }}
</header>
